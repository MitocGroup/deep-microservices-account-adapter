language: node_js
sudo: required
node_js:
  - '6.10'
  - '7.8'
cache:
  edge: true
  directories:
    - $(npm root -g)
    - node_modules
    - deep_modules
    - $(npm config get prefix)/bin
branches:
  only:
    - master
    - dev
    - stage
    - test
before_install:
  - cp bin/test/package.json .
after_success:
  - npm run coverage
after_script:
  - npm run remove-coverage
env:
  global:
    - DEEP_NO_INTERACTION=1
    - E2E_TESTING=none
    - MAJOR_VERSIONS=master
    - secure: 
        Ovlu7yF8WQZNftQGoCQVAIT6OWTB4AuVkfFsdvoLw9GBaUOObY+KMis0c5up1q32NNPl2Jz93/+czy7xKCdd4jegorHKu9FPQ0y8KhcOBRY3gUjapCa8AhyGJ6oK95mhRe8EeyX/nw3pkNKq6ARoyoEzsHisWLboKOUW3mKc2k++qumeAqTYs7Y4DrPwzYiao5HhW7cnr86qlZaVosM7GdvyOnZzd6oQT21LNTo5JE459v2eFy8a8erMU7CpRaM/sKYQgnWSt9JHwg21vKyY8W2qDg/ZGAheKfgB1+L37P9r9evE3/2gmr6GZ0UHOMJMsQysHYPIImMzsLjsNXlC/aCg/6nJtdenXKTEMBowqvvpydinw5qncYJ1/U5neDjeyJ6lTiloUg/RiEU6J+mBE4wbB8kLIr05w+qtWnRSKr1rz7yJkdN04OP5XMncmRJPRTB/Xd2u8UvU8XgLXbSPMWIyhyS4ea0CXSvI59FCdSBnPbEbMujuxAODm5n6eldwWjLKXMjHRPPhSy6sxSqN4gOY1CfXHiti1HLzyI9LXiKHi/peFiKspbLnLX1s1Wei0EhYQlExSyh3N+HEkkSz8EBEnsvHuVxSF+Sqz4/4PWmLFn9vGlwnlMQYNmW+s8qcuCgH1B+7RUPIenQ9VwAdL3IptSiwlg8zoWNuFUIB/xc=
    - secure: 
        El6AFp22dYCdwRAo8gG9AsnJq9RQZ/aTWCtcMYoPhkwz8uTn3aVctxspWmqWsu1uTRx3aI4gMOcijYkgM+eBp2xOpDvVS+hGkZqXLgLPBGbkenrA3qi6P7rUwO79aQcpCAawmriEhVzoPvY7axizlwVryZcLI6wWfLfZvn3N2BlAizd1X4Q4Bs+B2IR0gkCo30pdMj4gbAB1+B46/kbD3xBHIgZPRAnnpEdc3+lfoI5wW0TL9W3ySO7hfQLmnUkP8eQIewu321mWwnSB/zEh5kcvajAo8FwytyCwckhY4suNRL9BBJIJR9sM0qzNoEh1yaY7svLGq1ozkb5D2Z7NT76GgxB85eZc90idTBuH0P4b17aR8N8HllsjZqe/w9nPOcxfPeVNFfZ5SqYpPLhUr1X34Z7I0cbRaXqoRY2KGEkGF2MFW3OkyNjDddGFvpX2iDhXtUQ5v4YGbF3rB0bmBS79BTveD5vEi5jxa9roq4wGsq2sjgWYC0WP15o3HAL5dEKvekgMkfxKVByADtCPZgY5t1IKibGfJ8KHJHsd8kMy/CVtKe7X4ajZe9NL48/iC9E78zW5xZDeFYcrhmau3wwSWUbR0vS4M1VTBZaQ4uuF+DBq2QZ8+VNGimxIxTH65I7+SVuUpr+6GkYxvtzbG7/wTTEfqw803QfDIMUhRjU=
    - secure: 
        SIxxxrGwDmSwuUWDwPz8LzLTVwYOq2b/aJydx+U5CKTkiC2CYk5/yLxxG8IXjwiAwOndFVUGBYQvL2Jfz5ne+1mxyszzpg+1Ej/JTyrLYsbAEiTGxn9MQvUsK0u+YjF7l0r0AN9Sm397lmQhC37r4n23Np6PPzFHi/wem1LkkX57y9Yph4EhFO2+uyeqqq5z80aWHTUaxusmbZvyKH8jrsQfGUsqFQTbqXJ5JrVXEx1KgIeCG0U+BR6ZYC24ZPVTSi6YGcBEi3F48IUubewZXqzGF/aY3aPb3ww3GzZqBLa4sSbZk6BQBjMMnnPNweGfKiueiq5CoagMnS3NYUvZREQ7mqIhwLEid6a29Y+yq2WEYyrC5w630ytWowgpNCzUtbGfri9vKa8f8H3Za/q7d//RA1XM3vXKmjk257JOtwFd5oPznj2JF6/FRtXiw5mr/ZsmZqiX6YXH5Jqe3fUTqnx7JKfGve9Jf0DOT8hxQSiUJD3j3KQ1ipHMYayJGq56fbEpolPGjv+niUgfbV5gjKSQnOt9K8ABrHIJEnHu5C0DBSH2EkoeQxh84K3B/UENnj3beyexQXzu+M6pGzBN4EShP5J8fLmbT2IfjjbC/9IGGIM/05aSLGzX1zO3VzjocusruR+G++VLJQ1Kfe9pujMgfQgz+8NEPETkeGaEyYM=
    - secure: 
        lDqHuJC0dxV/Iix9ZsaIqbmhi0qqobdPrS2tfspoMw5WlhRkPsjCJip1K3eEWd+j66Jtd6L6yppqOxzngMKn1dbgoyGY5MwzIteBby5wzDSN7ghLPZrGCJcJRbdE2AMYQhzoeQE4lMiVFBugjTvpPEEX/p61VAuEsxBu40+6SQqRE1C93KHjJ3NESi0vie6PcShyoXmfRjmMPROnR6JqvNIHwRXxOZXaDEVirkTgjWyzuKjO/4rvjGELb2SFifycn/frVL7U4mvYxWCJezTYkB63FKdmqhRpBL1MVcrAHwweOdVKKKm5FMKDc9/6Rxb6QBw+XXktF1hIwJY/UTB+Py90ZqCwT3zaa5gn3ASNaW8HtWKZPOrOpeISGdkxgb4nYzgeNG8WtBL2OdDJXE5HPO4L8ZqHzAqeMlRqiZBnaySUZmMyxqBtY6vmZ6uEScVCF/41BzFh1UqDOOKWnveqT3qM4gqBRaAi/CcxkALzLaxCyVZgxu0OnwHDbwYH1eQikTAhI5Zd/Hr3cWrDERah7rB5M48mr8XNmlsWhlKxeYguanhFmk3oAsoaQ6CrMmDyGDu43YFTw1AEYNFQBd10feHqKUNCN7lHZ7VUZSNkmDXe80Ny6Lr0fh8bJIr8C1KrAk7lgSyoeqDO0S+tJU6HgxVljQqvzcwk+rQh7n5566U=
    - secure: 
        1m1bT6fegJ0WWW+f/InBYVxhEAMxhy/Ja5AeHBhr60za7vpFBgH1s0TLtqceAWA+hPPKr9NeL17Vcm6KOwSeX/9IahYbHHqwZlDos1I553Y8jOC3XYgozXSvq214j3PbppvLBsRYAMLDIhVXmuMyEWHr9kWqkTbvkg11gYEgYs3AiZ2Yqu3+NeJkzeqZ+rCKxdb7qywzB59O0VgffIFVBQ6N8Q9OqWzFZtVp2w/zrUMfF3FCm4NzoGe3/3aLqnIF4KrA8SLkRv9/lXgIHAtEtV6MYx2Uc95VlOIXhEMCZOHmRqkD3ZI16N3Q46K1fxbjd/ar2M3eplRipPIaAax4qixLLQ/AW1n7+1eg+fvqcDnIBahBEGA+PZvkCtmxuT6k5OrBikVrJ1OhF3GEaK6OdEu2PXjtK/l5BjB+XXlluEOJbpnw1PM3suL+5mTn+9l/v9p2787WTOpiKdGR4OWjt9Pd+zfSR6WRY81o7LYuqmTPpEHZ+hBj5DtTj/EGQ2oMRSIBcgfduswhtXC//a/f/2XsZE2Cj2n2mBISvtIt4OORXZhhM8jL6RJOfUuG7kLuaygSRWkp0n7wE9tXVTLZOhPseXbFgavvRE7Phznc+NQvppVp0afeoOTXq58moPUhD922DS268mgKVvWoEfhxs8emCP482+13I69kQn8ZlbM=
    - secure: 
        YJ/i7j8b8AEXR6OrkaSff0BqaZxrmrIzTHaOASHsE1QP+yjj01MEypYQURdFK6BhcruIZ/SETndty1/k+5b+eXaJs4aj87S2YHNPHuMwFSqfqnSSf98QVWx5z+uiVjgjSo9bTZVxefGG44qBx45qrpKS3moV6GvFmSZTQFQGO8SEMi4keGeRsItkdlMWMBnkKAHR7sAetGKTCAMK4W5q5h8OvwtR8ekDJmlWS7N7POi3EvACP67C6QSbKiAQ8yEQbQ+k8GAAJmPHlL5gNb3YPlokFuZJasE3zkHgqHFKCCoRdFBQd1iK1lecFLdom7HYQ6NZo6PnQhaUM2cOQ9ublbQ9BNOtXV+asmofXDYLQJLa/ewYxzlBh87nd+xGxA48667VWXZsSpVxZbMqLLUqF6qOgYhXcF29P60YphTF+Cpy9IVzNGyOm6hbJatmXZyPoZKoyJZ61CujDUTTVQXjDR5l7Qb0uBTKPiX9SD7KdOe9/Scmi35MAll30rXvSxXPJ55hVkmn7Xg4bNsJodzWhh1Cj+k0nOh2b2mDqd2nutA3sStoX2RA8uFNrP27klLlxAqJ5XKIxHopa1CtHlpKPMYdEZq/B6/5B9sgA1eIkJmZypzFsvHCwroq2lcdLcQLrVMw0gsQO7yEHK+Wb+Eo9Rixz21IWjE9Myg7CKWIvs8=
    - secure: 
        MLHs8O51zy9Vxa20xaazqbsKbZEZ2TmTseloxMHQbZezkGv+XesjWzC9FAnp+ePnv2CsFIsJ8zCxyK9bNvbXvrfFm+8pvgvc86KMpPDOJ0F8iF5OwzudqJZ/4phuOl+/Suu0Zcmac/a6rzrJLt4UOQIsniLFQW/tTVyqKVq+h3HALhV87uyU0Aq0gqmwVmWLMcT/n6M43smFVW7fs58D+zHlbUxkZTbn65eKuMQ2B1NQUgTv0F0DbPgabhMqPThLu/A3tbj7L4IOF4GY4nlFyL0zZRO4J9Nmpq2VAimKbt0fV3d8rPCPXrCCc7gU6XHOgUPH3g/aj8VrnMr+FXTtxw+IOltbMLp97WogoFjWiHYzoR7vwmYEqdwh0THRchE6N9wdLJ3g98/KNzT/BAYoHY1kVuyZTQA/62tXFHyThvtzJnUjjO2n7zBbVfzW1mha+NqG324XruZ6uj9xP2CjNximK/otYEwH/G8WYQIQbmL/wYRf78b4vkxNbMwJivcgdBZAqekiF1KgVZYAzE24fE96CDWHi7FAy5VCO1ZSaSYiIEClb5/mJw91i8dsGJWsXbgL95Gr5eeCxr+CA7mXRFqLOjBZcRQ2/LUWOw/gUjPecF/t1FER2x8VSdDqpYaoLuZBm9UK2/vrLSY989xXHWons4VSn0BzuozhN75WTRc=
    - secure: 
        rl/Q4+b1rGyptIofgcIeAmidV72NgklY8DX11D9sYoLRmWcXM8hH3niWgi1Zfz1V0eRkPL8DRSoiB8tXIdWw5HoZDRVu87K0qgtgtuxfvDZEJpJcHcCVQ9BcDaeUqXrZr0W/cpMqx54BOOzr8vGPD6MC9FhA2Oe3+TsVgKghHXP7Hfguzvy0luF/VyV6w8P3Ns8YA56CIlBkljYrkhp/tQcH7QzcJCgvGmRUVreB+IVgwrQcFLMIHd6e9TDeOtv52FMM6xscvl0x32s8kGGfCN0wc9xfp1Frx/IpCgpAZb8DR1QQZETOXAMLeXxXRZHTJHaJR+S/59aY8Minu3ql5yYdLMJapvN4B1YPxsrK5Q2Ho0ymUfnmDimmoAF0Vx4bIWT/ZU6KICQbdKTkQuzqL8a8T2t/r7Y18hI2AWSOyoU5AhRPh6QW+NC2co/Hr4KAgekhV9FFSooEL2QXmtdIXjVr0q39tnR7lflo/eUFZnmFGwRb26uk8jc3BuEb8SEdx8hl5T3uJY1UWIO6YxX0WhYMPC9FDubQAoBsRwSGp5aCkrrFA6Dhy8s1HZsziV+i1FHoVCrMtEb1XMqSOIgTLHZUTvKuN6hg8LpQ8dGxWBXxuBdQTwTYdnqzY9IZnxepV0zzcsmdESmdgrCinAxtryLINdtdeLhcSIDS46M9vYU=
  matrix:
    - TEST_SUITE=backend
    - TEST_SUITE=frontend
notifications:
  slack:
    secure: 
      bLj9ve0FVrk1/P3tsxGrtBU2kI8a5rRSrz7HyPa1YPYx+2cqyILlxe/rA2iVZ8wrXtfSuK5TQWSP/HzFVK4W7Rs0v0k2cKBUz0AnatERonWtJef5xAwvlAU7KlqCuUG15OftWR49XD8jDxPDj9Si4dkXbEt5p0sVCjZ1l9JMRca+2S9pVRySc6R1ibnFA3/rEIaK9fNke5ghCSyjtJIL1hYh2+eTDz702ADb25wRvDAnWTFzVXOM0k+fkAe6pRzHTXW/h79NsIfPTV9ZH4ZUilPtJgUs2GPmI+AYgi6+R2n3Di4YVnCEZFGLPr9N402X+4LSARsrzaJoJEwd1oiZm8GV/d8P6iq7q1esdATmaBMbEsPdF8Imhn7/cp+4ajGPnGC0S469XMg5inpP12JrKbpep7a8mMhFAgA5Xd0HysJEAuKw/f19eY4aZXsUbrDwamD8XxIku9vEL5FlPS0MGlrowd4Dfd9kQjj3cecbaz9Tmdz822/B//qeRLgGrjerGzN9+XleT7rsZX0Ry1Z8KXDCMr94D1iT9gdSN/vuMwsOwivHY5W47mXrhpZLppA2yBKEn3whjSl3cnT+DX7pql4wLXEGTmsdaNlavI9hyp0a0LTrQM+pIHWqOE6HiVmLzpFTyTHYyiKOtVZjeACphAgLyeUQ8yyP7vediC5Pb8U=
