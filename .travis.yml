language: node_js
sudo: required
node_js:
  - '4.3'
  - '6.4'
cache:
  edge: true
  directories:
    - $(npm root -g)
    - node_modules
    - deep_modules
    - $(npm config get prefix)/bin
branches:
  only:
    - master
    - dev
    - stage
    - test
before_install:
  - cp bin/test/package.json .
after_success:
  - npm run coverage
after_script:
  - npm run remove-coverage
env:
  matrix:
    - TEST_SUITE=backend
    - TEST_SUITE=frontend
  global:
    - DEEP_NO_INTERACTION=1
    - E2E_TESTING=none
    - MAJOR_VERSIONS=master
    - secure: 
        Ovlu7yF8WQZNftQGoCQVAIT6OWTB4AuVkfFsdvoLw9GBaUOObY+KMis0c5up1q32NNPl2Jz93/+czy7xKCdd4jegorHKu9FPQ0y8KhcOBRY3gUjapCa8AhyGJ6oK95mhRe8EeyX/nw3pkNKq6ARoyoEzsHisWLboKOUW3mKc2k++qumeAqTYs7Y4DrPwzYiao5HhW7cnr86qlZaVosM7GdvyOnZzd6oQT21LNTo5JE459v2eFy8a8erMU7CpRaM/sKYQgnWSt9JHwg21vKyY8W2qDg/ZGAheKfgB1+L37P9r9evE3/2gmr6GZ0UHOMJMsQysHYPIImMzsLjsNXlC/aCg/6nJtdenXKTEMBowqvvpydinw5qncYJ1/U5neDjeyJ6lTiloUg/RiEU6J+mBE4wbB8kLIr05w+qtWnRSKr1rz7yJkdN04OP5XMncmRJPRTB/Xd2u8UvU8XgLXbSPMWIyhyS4ea0CXSvI59FCdSBnPbEbMujuxAODm5n6eldwWjLKXMjHRPPhSy6sxSqN4gOY1CfXHiti1HLzyI9LXiKHi/peFiKspbLnLX1s1Wei0EhYQlExSyh3N+HEkkSz8EBEnsvHuVxSF+Sqz4/4PWmLFn9vGlwnlMQYNmW+s8qcuCgH1B+7RUPIenQ9VwAdL3IptSiwlg8zoWNuFUIB/xc=
    - secure: 
        uNfbSf7w/1nJdONIOClTyA9JxyVZdpIz/Y+kOUy8LDZLt3EJwacUD7pzzu6ylm8eOyn+FLO3+mrygxbadax/OdMK2RVSES4KWJRSGaTfH7/SmgsVLw4wIrlJLmZRUkM9wde8Ae0oShVKjjk0EC9+WytHCd9HhgQuRWMcEJN0W0P6HVjILr0YGbqAo1Iuo4Ywu4tSddOsX/p+V5BXmsu4ePzn+smeSyRv/72MlOKK2PHpJyuikFH+l5NVbd35H5yr6mA1XM2m2iroELQ1VvCCUQS1G0nEyZFNJUVFLowfPxbs7uwtnjEjJUva27bpER2+DG/8FjZeJll9cbqsaIc82NWmfa74puIr+LD1aOSQ5GzxHBiHw6mtNruZCcNj6t/ljgvYNWXE1FHAkFK0Bjj4fVUM71ucJ5eVUJrlH3SnAq8Rxx9rrm4UKcv5ua/eCJXzVS/umpLUpfVDaAWIRy4Atlwk77xBwLW4fryUtEGHTfxFx2vUxxAqdxsJlb3Erh3NEjgXMCRKi6MAdncJarQDQvMA9NeO8oo5PlMDvzEMA5VX7b8DI5PaGKlAQCqSLNqvcE7L9NuoEvsn6/zpEmFBnBPzzYjm4ocSs4Yenv7UqDAFD7LoCdeaXajt+wDp/ODWTINYaz22i87aad+wyUEYrLPJE+UZ6y5DmFg9VYEzh1A=
    - secure: 
        EIIvFPi/l1P1tbP9nKPMHcgrB4zDpUzB8m/XHztr7/DtpLghsYfYf08THoJ1drG/D10qmsmUf2hzDJHAN4e9FbUFIu4wFnNSi/iD1xSGacsZqviVydHA+SIQQS4VECD201iy+NKtBqeQgeYf3W5ezUG9FQr6YrgCmzEdEsCZ7ca5VkI6jOZIST6M9oKNCj8rqZoi2Y6CIFb36gbbBTMGb+vfmkEV7XnPsX49suhtzGVlePOJpQwGHa+LqURJUzk74UScYjFD7ZZl94Tjd5UkLSis5hybbpxDP7F0cCR23/LUdAUV/PU7UE9skVdVco4MENAUPGO8flD0YgFlq4fq1GDHwYhlcx4SpvUYNlntYETA0yaqMLHP26F4IR6Ex1fKP0BmMtZcXOXR47otbCAw+S6SrKzME/TUpXgd1nLm7reYSYV6SMXP14MqBmxPCHfI0BBJnsql3VksCCMy7nvVoLOi5qt9Sc83xwNGWz8FY6OcGuI21ZKuEX7bibHkadDGViRtPGCTB07mgnHDZowwOVZMQV1CtL7x3XitplOvE0H129mt5UDStgtdB4NGRSyPVH0VdD5McdKVRI2kpy1rWE3Zp9IKqLpsOyXWGvaKiZBrdtM9MISkGJVaNMmXb4le4J7xqUO+A8D/+mziOo1Lm9tdSymirsvN3EXLxUorJLw=
    - secure: 
        El6AFp22dYCdwRAo8gG9AsnJq9RQZ/aTWCtcMYoPhkwz8uTn3aVctxspWmqWsu1uTRx3aI4gMOcijYkgM+eBp2xOpDvVS+hGkZqXLgLPBGbkenrA3qi6P7rUwO79aQcpCAawmriEhVzoPvY7axizlwVryZcLI6wWfLfZvn3N2BlAizd1X4Q4Bs+B2IR0gkCo30pdMj4gbAB1+B46/kbD3xBHIgZPRAnnpEdc3+lfoI5wW0TL9W3ySO7hfQLmnUkP8eQIewu321mWwnSB/zEh5kcvajAo8FwytyCwckhY4suNRL9BBJIJR9sM0qzNoEh1yaY7svLGq1ozkb5D2Z7NT76GgxB85eZc90idTBuH0P4b17aR8N8HllsjZqe/w9nPOcxfPeVNFfZ5SqYpPLhUr1X34Z7I0cbRaXqoRY2KGEkGF2MFW3OkyNjDddGFvpX2iDhXtUQ5v4YGbF3rB0bmBS79BTveD5vEi5jxa9roq4wGsq2sjgWYC0WP15o3HAL5dEKvekgMkfxKVByADtCPZgY5t1IKibGfJ8KHJHsd8kMy/CVtKe7X4ajZe9NL48/iC9E78zW5xZDeFYcrhmau3wwSWUbR0vS4M1VTBZaQ4uuF+DBq2QZ8+VNGimxIxTH65I7+SVuUpr+6GkYxvtzbG7/wTTEfqw803QfDIMUhRjU=
    - secure: 
        MftCMAGajf8T3IDiLjvTUIQ72VUtPfIcZjctjKyuBai36VjSg1lo8sC/e7VmTtFdMuwM7t3kJ8UNigweZ0kyTpxXDWfmNNdmRlc0EuG3HhyJ2bw7ce/CwDDnHf4AL35kzJ17dVUAWkpPxqh5Mhb5N6UrRnuqeq0DJwt1O7hFUE/ir2Kw2JTPKdiDJZZUZVQk4zy9oMy9eStDz0DXy/9588cS0XJ77jYzsYOMiEtkyJ884frG7r1OwVEsZGuFYKw29xxLYHpyIHnrk8eECeaGY5B5bKpL1ml67J2+G9KAue25hKUz1OtcTDB0oODqbdMg4eztY9J9WoGS5b9ZPtQoeO6Lc2FA/hv+qQlGZw1N0yHNfx30DJaHimnFc4MCEROWTyOYqUkW33i/zjYeFB1lAY6KVl/iGjWrNMH5QEeC1YLz//ehJur5nP9h4ujRzXRO0s488asYO1nkmacwQxhZrddLe78q4RsD3t5ml6+i2RH5Qm6C3YCPmGKZTXqA6n/aiAUjebRmjBI1/gnZ47oVNodRCjtVk5RlXY93rbLYuaaHl0av/2Fh8DSj0hYsTNtNqYcMUBg1MUd3+yCKNsPOVoXUJ4JhkhNa5WCNap9qo3zIqKDhpAcdlNlNABqKN70IuT4CMh9CdbtN6KknqYYKm2Pvu+T1NEobbPmfG4Lkp5U=
    - secure: 
        Org8491FEOtuDpdU54oMbLp6ec6A7BzWRjtZDYNVd6gRsoz+jrvPlywQ8G4aTn+9p1YnvHfwhXgGMe9ma/cr6LzC/tTWyVr+u3BX3sTDoCZMx6Ljj8VvlQW4Y7KZEVONsWXZIjGFW93zo8Jo4h8Ot6a36ygdh/Ina/e0qjSM2QH6/zrT2d7XCDY8psm5fYHSCutn+SWeokfwfspV5bpnqx1o1ZFM1hzhj+DTmCqnhzlAr4VKDR9gqtuoxkoXPXWv8a0dN6MA9ZAFka56IG9hLVDC98CodrUfoRIWBBcAC6kQ+CaT6DsFaJX3EfBTrkmGU18Kptt+0RBua16xIW8hCaUaJSqdOWWmX1QLYF/tmc2OXmXn0XreKCta2dL8mza04MAVNAt7HiWHmzol53PW4pO7Dk45y+DRR1BXEbQ0GVJibvHY70y2GXsWIlBoyumevnOHIi9kedtFxlSm7/wHFV3290CjGhiHbDd2jHiytmE6FsCv0K3LXXL2n0EzxUuFrhJtCXI2hvGu+Ac9KEE9otlSxwoN9InMi/D0lJ/dTXEvuthRgsSvNByNHLa71JgsAb1fg8YAfmpPSVIcuPG0x35D2Pk6Nn3Yzfm/6AhYgTTXOGsiUHgfFxW5bbJi4cSkSo3fAGEaL5mOdzyMQjs8/4BLEKkd2q5LRd2eM68IcC0=
    - secure: 
        SIxxxrGwDmSwuUWDwPz8LzLTVwYOq2b/aJydx+U5CKTkiC2CYk5/yLxxG8IXjwiAwOndFVUGBYQvL2Jfz5ne+1mxyszzpg+1Ej/JTyrLYsbAEiTGxn9MQvUsK0u+YjF7l0r0AN9Sm397lmQhC37r4n23Np6PPzFHi/wem1LkkX57y9Yph4EhFO2+uyeqqq5z80aWHTUaxusmbZvyKH8jrsQfGUsqFQTbqXJ5JrVXEx1KgIeCG0U+BR6ZYC24ZPVTSi6YGcBEi3F48IUubewZXqzGF/aY3aPb3ww3GzZqBLa4sSbZk6BQBjMMnnPNweGfKiueiq5CoagMnS3NYUvZREQ7mqIhwLEid6a29Y+yq2WEYyrC5w630ytWowgpNCzUtbGfri9vKa8f8H3Za/q7d//RA1XM3vXKmjk257JOtwFd5oPznj2JF6/FRtXiw5mr/ZsmZqiX6YXH5Jqe3fUTqnx7JKfGve9Jf0DOT8hxQSiUJD3j3KQ1ipHMYayJGq56fbEpolPGjv+niUgfbV5gjKSQnOt9K8ABrHIJEnHu5C0DBSH2EkoeQxh84K3B/UENnj3beyexQXzu+M6pGzBN4EShP5J8fLmbT2IfjjbC/9IGGIM/05aSLGzX1zO3VzjocusruR+G++VLJQ1Kfe9pujMgfQgz+8NEPETkeGaEyYM=
    - secure: 
        lDqHuJC0dxV/Iix9ZsaIqbmhi0qqobdPrS2tfspoMw5WlhRkPsjCJip1K3eEWd+j66Jtd6L6yppqOxzngMKn1dbgoyGY5MwzIteBby5wzDSN7ghLPZrGCJcJRbdE2AMYQhzoeQE4lMiVFBugjTvpPEEX/p61VAuEsxBu40+6SQqRE1C93KHjJ3NESi0vie6PcShyoXmfRjmMPROnR6JqvNIHwRXxOZXaDEVirkTgjWyzuKjO/4rvjGELb2SFifycn/frVL7U4mvYxWCJezTYkB63FKdmqhRpBL1MVcrAHwweOdVKKKm5FMKDc9/6Rxb6QBw+XXktF1hIwJY/UTB+Py90ZqCwT3zaa5gn3ASNaW8HtWKZPOrOpeISGdkxgb4nYzgeNG8WtBL2OdDJXE5HPO4L8ZqHzAqeMlRqiZBnaySUZmMyxqBtY6vmZ6uEScVCF/41BzFh1UqDOOKWnveqT3qM4gqBRaAi/CcxkALzLaxCyVZgxu0OnwHDbwYH1eQikTAhI5Zd/Hr3cWrDERah7rB5M48mr8XNmlsWhlKxeYguanhFmk3oAsoaQ6CrMmDyGDu43YFTw1AEYNFQBd10feHqKUNCN7lHZ7VUZSNkmDXe80Ny6Lr0fh8bJIr8C1KrAk7lgSyoeqDO0S+tJU6HgxVljQqvzcwk+rQh7n5566U=
notifications:
  slack:
    secure: 
      bLj9ve0FVrk1/P3tsxGrtBU2kI8a5rRSrz7HyPa1YPYx+2cqyILlxe/rA2iVZ8wrXtfSuK5TQWSP/HzFVK4W7Rs0v0k2cKBUz0AnatERonWtJef5xAwvlAU7KlqCuUG15OftWR49XD8jDxPDj9Si4dkXbEt5p0sVCjZ1l9JMRca+2S9pVRySc6R1ibnFA3/rEIaK9fNke5ghCSyjtJIL1hYh2+eTDz702ADb25wRvDAnWTFzVXOM0k+fkAe6pRzHTXW/h79NsIfPTV9ZH4ZUilPtJgUs2GPmI+AYgi6+R2n3Di4YVnCEZFGLPr9N402X+4LSARsrzaJoJEwd1oiZm8GV/d8P6iq7q1esdATmaBMbEsPdF8Imhn7/cp+4ajGPnGC0S469XMg5inpP12JrKbpep7a8mMhFAgA5Xd0HysJEAuKw/f19eY4aZXsUbrDwamD8XxIku9vEL5FlPS0MGlrowd4Dfd9kQjj3cecbaz9Tmdz822/B//qeRLgGrjerGzN9+XleT7rsZX0Ry1Z8KXDCMr94D1iT9gdSN/vuMwsOwivHY5W47mXrhpZLppA2yBKEn3whjSl3cnT+DX7pql4wLXEGTmsdaNlavI9hyp0a0LTrQM+pIHWqOE6HiVmLzpFTyTHYyiKOtVZjeACphAgLyeUQ8yyP7vediC5Pb8U=
